## 목차

- [📗배운 점](#배운-점)
  - [전역변수의 문제점](#전역변수의-문제점)
    - [14.1 변수의 생명주기](#141-변수의-생명주기)
      - [14.1.1 지역변수의 생명주기](#1411-지역변수의-생명주기)
      - [14.1.2 전역 변수의 생명주기](#1412-전역-변수의-생명주기)
    - [14.2 전역 변수의 문제점](#142-전역-변수의-문제점)
    - [14.3 전역 변수의 사용 억제하는 방법](#143-전역-변수의-사용-억제하는-방법)
- [🤔궁금한 점](#궁금한-점)
- [📌중요한 점](#중요한-점)

# 📗배운 점

## 전역변수의 문제점

### 14.1 변수의 생명주기

#### 14.1.1 지역변수의 생명주기

변수는 언젠가 소멸한다. 생성되고 소멸되는 생명주기가 있다.
함수 내부에서 선언된 지역변수는 함수가 호출되면 생서되고 함수가 종료하면 소명한다.

![image](https://github.com/chowonn/js-deepdive-study/assets/101866872/eb1cb851-62b4-4e71-a8b0-8d6b2d081118)

지역변수의 생명주기는 함수의 생명주기와 일치한다.

![image](https://github.com/chowonn/js-deepdive-study/assets/101866872/6b3e009b-4ad4-47df-b47a-b4adaf36f75e)

변수는 자신이 등록된 스코프가 소멸(메모리 해제)될 때까지 유효하다. 가비지 콜렉터에 의해 해제되어 가용 메모리 풀에 반환된다.

즉, 누군가가 메모리 공간을 참조하고 있으면 해제되지 않고 확보된 생태로 남아 있게된다. 스코프도 마찬가지다. 누군가 스코프를 참조 하고 있으면 스코프는 소멸하지 않고 생존하게 된다.

![image](https://github.com/chowonn/js-deepdive-study/assets/101866872/13bf2abd-9c67-4a17-906f-1ea10950c9b2)
1은 undefined 값을 갖는다.
foo 함수 내부에서 선언된 지역번수 x는 1시점에 이미 선언되었고 undefined로 초기화 되어 있다. 따라서 전역 변수 x를 참조하는 것이 아니라 지역 변수 x를 참조해 값을 출력한다.

#### 14.1.2 전역 변수의 생명주기

전역코드에는 반환문을 사용할 수 없으므로 마지막 문이 실행되어 더이상 실행할 문이 없을 때 종료한다.

브라우저 환경에서 전역 객체는 window
var 키워드로 선언한 전역변수는 전역 객체 window 프로퍼티다.
window는 웹페이지를 닫기전까지 유효하다.

var키워드로 선언한 전역변수의 생명주기는 전역 객체의 생명주기와 같다.

![image](https://github.com/chowonn/js-deepdive-study/assets/101866872/34e6393d-507d-49f2-b65c-84c18e1a4fd0)

### 14.2 전역 변수의 문제점

1. 암묵적 결합
2. 긴 생명주기
3. 스코프체인 상에서 종점에 존재
4. 네입스페이스 오럼

### 14.3 전역 변수의 사용 억제하는 방법

- 전역 변수를 반드시 사용해야할 이유를 찾지 못한다면 지역 변수를 사용해야한다.
- 변수 스코프는 좁을수록 좋다.

  1. 즉시 실행함수 = 즉시실행함수로 감싸면 모든 변수는 즉시 실행함수의 지역변수가 된다.
  2. 네임스페이스 객체
  3. ![image](https://github.com/chowonn/js-deepdive-study/assets/101866872/a22267cc-982d-4cb8-9ae2-9851f65c9273)

  - 유용하진 않음

- 모듈패턴 - 전역변수의 엑제는 물론 캡슐화까지 구현
  - 캡슐화는 객체의 상태를 나타내는 프로퍼티와 프로퍼티를 참조하고 조작할 수 있는 동작 인 메서드를 하나로 묶는 것을 말한다.

# 🤔궁금한 점

# 📌중요한 점
